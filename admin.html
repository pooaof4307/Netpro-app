<!-- ตัวอย่างส่วนจัดการสมาชิกในระบบหลังบ้าน -->
<div>
  <h2>จัดการสมาชิก</h2>
  <table id="membersTable" border="1" cellspacing="0" cellpadding="8" style="width:100%; border-collapse: collapse;">
    <thead>
      <tr>
        <th>เบอร์โทร</th>
        <th>ชื่อเล่น</th>
        <th>รหัสผ่าน</th>
        <th>สถานะบัญชี</th>
        <th>แก้ไขสถานะ</th>
        <th>ลบสมาชิก</th>
      </tr>
    </thead>
    <tbody id="membersTbody"></tbody>
  </table>
</div>

<script>
  function loadMembers() {
    const users = JSON.parse(localStorage.getItem('users') || '[]');
    const tbody = document.getElementById('membersTbody');
    tbody.innerHTML = '';

    users.forEach((user, index) => {
      const tr = document.createElement('tr');

      tr.innerHTML = `
        <td>${user.phone}</td>
        <td>${user.name || '-'}</td>
        <td>${user.password || '-'}</td>
        <td>${user.status || 'ปกติ'}</td>
        <td>
          <select onchange="changeStatus(${index}, this.value)">
            <option value="ปกติ" ${user.status === 'ปกติ' ? 'selected' : ''}>ปกติ</option>
            <option value="แบรนด์" ${user.status === 'แบรนด์' ? 'selected' : ''}>แบรนด์</option>
          </select>
          <button onclick="saveStatus(${index})">บันทึก</button>
        </td>
        <td>
          <button onclick="deleteMember(${index})" style="color: red;">ลบ</button>
        </td>
      `;

      tbody.appendChild(tr);
    });
  }

  function changeStatus(index, newStatus) {
    const users = JSON.parse(localStorage.getItem('users') || '[]');
    users[index].status = newStatus;
    localStorage.setItem('users', JSON.stringify(users));
  }

  function saveStatus(index) {
    alert('บันทึกสถานะเรียบร้อยแล้ว');
    loadMembers();
  }

  function deleteMember(index) {
    if (confirm('ต้องการลบสมาชิกนี้หรือไม่?')) {
      const users = JSON.parse(localStorage.getItem('users') || '[]');
      users.splice(index, 1);
      localStorage.setItem('users', JSON.stringify(users));
      loadMembers();
      alert('ลบสมาชิกเรียบร้อยแล้ว');
    }
  }

  // โหลดสมาชิกตอนหน้าเปิด
  loadMembers();
</script>

<!-- admin-login.html --><!DOCTYPE html><html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>เข้าสู่ระบบแอดมิน</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="login-container">
    <h2>เข้าสู่ระบบแอดมิน</h2>
    <form id="loginForm">
      <input type="password" id="adminPassword" placeholder="รหัสผ่านแอดมิน" required>
      <button type="submit">เข้าสู่ระบบ</button>
    </form>
  </div>
  <script>
    document.getElementById('loginForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const pass = document.getElementById('adminPassword').value;
      if (pass === 'admin1234') {
        window.location.href = 'admin-dashboard.html';
      } else {
        alert('รหัสผ่านไม่ถูกต้อง');
      }
    });
  </script>
</body>
</html><!-- admin-dashboard.html --><!DOCTYPE html><html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>จัดการโปรเน็ต & สมาชิก</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>ระบบหลังบ้าน</h1>
    <button onclick="logout()">ออกจากระบบ</button>
  </header>
  <main>
    <section class="form-section">
      <h2>เพิ่มโปรเน็ต</h2>
      <form id="addForm">
        <input type="text" id="network" placeholder="เครือข่าย" required>
        <input type="text" id="price" placeholder="ราคา" required>
        <input type="text" id="speed" placeholder="ความเร็ว" required>
        <input type="text" id="duration" placeholder="ระยะเวลา" required>
        <input type="text" id="description" placeholder="รายละเอียด" required>
        <input type="text" id="link" placeholder="ลิงก์สมัคร" required>
        <button type="submit">เพิ่มโปร</button>
      </form>
    </section><section>
  <h2>รายการโปรเน็ต</h2>
  <div id="netList">กำลังโหลด...</div>
</section>

<section>
  <h2>จัดการสมาชิก</h2>
  <div id="userList">กำลังโหลด...</div>
</section>

  </main>
  <script src="script.js"></script>
</body>
</html>/* style.css */ body { font-family: 'Sarabun', sans-serif; background: #f5f7fb; margin: 0; padding: 0; } header { background: #4a90e2; padding: 1em; color: white; text-align: center; } button { background: #4a90e2; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; transition: 0.3s; } button:hover { background: #357ab8; } input { padding: 10px; width: 100%; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 8px; } .login-container, .form-section { max-width: 400px; margin: 30px auto; padding: 20px; background: white; box-shadow: 0 0 10px rgba(0,0,0,0.1); border-radius: 10px; }

/* script.js */ const API_URL = "https://script.google.com/macros/s/AKfycbyV7B2AfgmmULrTdOPbI6oRbJtF3FRM6_4vvHOrJBvrutWKKH0yaa0gEWRyz95cd4gy8Q/exec";

function logout() { window.location.href = 'admin-login.html'; }

// เพิ่มโปรเน็ต const form = document.getElementById('addForm'); if (form) { form.addEventListener('submit', function(e) { e.preventDefault(); const data = { action: 'addNet', network: form.network.value, price: form.price.value, speed: form.speed.value, duration: form.duration.value, description: form.description.value, link: form.link.value }; fetch(API_URL, { method: 'POST', body: JSON.stringify(data), headers: { 'Content-Type': 'application/json' } }) .then(r => r.text()) .then(res => { alert('เพิ่มโปรเน็ตเรียบร้อย'); form.reset(); loadData(); }); }); }

// โหลดข้อมูลโปรเน็ตและสมาชิก function loadData() { fetch(API_URL + '?action=readAll') .then(res => res.json()) .then(data => { const netList = document.getElementById('netList'); const userList = document.getElementById('userList');

if (netList) {
    netList.innerHTML = data.pros.map((p, i) => `
      <div class="card">
        <b>${p.network}</b> - ${p.price} - ${p.speed} - ${p.duration}<br>
        ${p.description}<br>
        <a href="${p.link}" target="_blank">ลิงก์สมัคร</a><br>
        <button onclick="deleteNet(${i})">ลบ</button>
      </div>`).join('');
  }

  if (userList) {
    userList.innerHTML = data.users.map((u, i) => `
      <div class="card">
        <b>${u.nickname}</b> (${u.phone})<br>
        รหัสผ่าน: ${u.password}<br>
        <button onclick="deleteUser(${i})">ลบ</button>
      </div>`).join('');
  }
});

}

function deleteNet(index) { if (confirm('ยืนยันลบโปรเน็ต?')) { fetch(API_URL, { method: 'POST', body: JSON.stringify({ action: 'deleteNet', index }), headers: { 'Content-Type': 'application/json' } }).then(() => loadData()); } }

function deleteUser(index) { if (confirm('ยืนยันลบสมาชิก?')) { fetch(API_URL, { method: 'POST', body: JSON.stringify({ action: 'deleteUser', index }), headers: { 'Content-Type': 'application/json' } }).then(() => loadData()); } }

window.onload = loadData;


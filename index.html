<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>โปรเน็ตทั้งหมด</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f8f9fa;
      padding: 20px;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
    }
    #loading {
      text-align: center;
      padding: 1rem;
      font-size: 1.2rem;
      color: #007bff;
    }
    .package {
      background: #fff;
      padding: 1rem;
      border-radius: 10px;
      margin-bottom: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .package h3 {
      margin: 0 0 5px;
      color: #007bff;
    }
    .package p {
      margin: 2px 0;
    }
  </style>
</head>
<body>

  <h1>รายการโปรเน็ต</h1>
  <div id="loading">⏳ กำลังโหลดข้อมูล...</div>
  <div id="packageList"></div>

  <script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbxuFiHXVxbcDiw4Y0q0cLFPhFEG5etsgQ61gmGiDjOyurNAhE-Rl3AIu7kPVP_jsJnqWg/exec';
    const list = document.getElementById('packageList');
    const loading = document.getElementById('loading');

    async function loadPackages() {
      try {
        const res = await fetch(scriptURL);
        const data = await res.json();
        const records = data.records || data;

        loading.style.display = 'none'; // ซ่อนข้อความโหลด

        if (!records.length) {
          list.innerHTML = '<p>ไม่มีข้อมูลโปรเน็ตในระบบ</p>';
          return;
        }

        records.forEach(pkg => {
          const item = document.createElement('div');
          item.className = 'package';
          item.innerHTML = `
            <h3>${pkg.network || 'ไม่ระบุเครือข่าย'} - ${pkg.price || '0'} บาท</h3>
            <p>ความเร็ว: ${pkg.speed || '-'}</p>
            <p>ระยะเวลา: ${pkg.duration || '-'}</p>
            <p>รายละเอียด: ${pkg.description || '-'}</p>
          `;
          list.appendChild(item);
        });
      } catch (err) {
        loading.textContent = '❌ โหลดข้อมูลไม่สำเร็จ';
        console.error(err);
      }
    }

    loadPackages();
  </script>

</body>
</html>
